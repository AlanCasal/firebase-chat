<p align="center">
  <img src="./assets/images/app mockup.jpeg" width="100%" title="ui design">
</p>

# Firebase Chat App

> Mobile chat app built with Expo + React Native and powered by Firebase Authentication + Firestore for real-time messaging.

[![Last Commit](https://img.shields.io/github/last-commit/AlanCasal/firebase-chat?style=for-the-badge&logo=github)](https://github.com/AlanCasal/firebase-chat/commits/main)

### Core Stack

[![TypeScript](https://img.shields.io/badge/typescript-5.3-3178C6?style=for-the-badge&logo=typescript&logoColor=white)](https://www.typescriptlang.org/)
[![Expo](https://img.shields.io/badge/expo-52-000020?style=for-the-badge&logo=expo)](https://expo.dev/)
[![React Native](https://img.shields.io/badge/react_native-0.76-20232A?style=for-the-badge&logo=react)](https://reactnative.dev/)
[![React](https://img.shields.io/badge/react-18.3-149ECA?style=for-the-badge&logo=react)](https://react.dev/)

### Key Libraries

[![Firebase](https://img.shields.io/badge/firebase-11.0-FFCA28?style=for-the-badge&logo=firebase&logoColor=black)](https://firebase.google.com/)
[![Firebase Auth](https://img.shields.io/badge/firebase-auth-FFCA28?style=for-the-badge&logo=firebase&logoColor=black)](https://firebase.google.com/docs/auth)
[![Cloud Firestore](https://img.shields.io/badge/firebase-firestore-FFCA28?style=for-the-badge&logo=firebase&logoColor=black)](https://firebase.google.com/docs/firestore)
[![Expo Router](https://img.shields.io/badge/expo_router-4.0-111111?style=for-the-badge)](https://docs.expo.dev/router/introduction/)
[![NativeWind](https://img.shields.io/badge/nativewind-4.1-38B2AC?style=for-the-badge)](https://www.nativewind.dev/)
[![AsyncStorage](https://img.shields.io/badge/asyncstorage-1.23-1976D2?style=for-the-badge)](https://react-native-async-storage.github.io/async-storage/)
[![Reanimated](https://img.shields.io/badge/Reanimated-3.16-6C5CE7?style=for-the-badge)](https://docs.swmansion.com/react-native-reanimated/)
[![Popup Menu](https://img.shields.io/badge/react_native_popup_menu-0.16-0F766E?style=for-the-badge)](https://github.com/instea/react-native-popup-menu)

## Project Health

[![Tests Not Configured](https://img.shields.io/badge/tests-not%20configured-lightgrey?style=for-the-badge)](#project-health)
[![Coverage Not Configured](https://img.shields.io/badge/coverage-not%20configured-lightgrey?style=for-the-badge)](#project-health)

## Why This Project Stands Out

- âš¡ Firebase-powered real-time chat updates using Firestore listeners.
- ğŸ” Email/password authentication with persisted auth state in React Native.
- ğŸ§  Global auth context drives route guarding and redirects.
- ğŸ’¬ Room-based message architecture with deterministic room IDs.
- ğŸ¨ Polished mobile UI with NativeWind, responsive sizing, and custom headers.

## Current Features

- ğŸ‘¤ Sign up with `username`, `email`, `password`, and profile image URL.
- ğŸ”‘ Sign in with validation and friendly auth error handling.
- ğŸ“‹ Chat list screen showing other users and live last-message preview.
- ğŸ•’ Message timestamp formatting and sender-aware message snippets.
- ğŸ’Œ Real-time chat room messaging with send input, keyboard-aware layout, and autoscroll.
- ğŸšª User menu with logout flow integrated in chat list header.

## Architecture Snapshot

- Route structure (Expo Router):
  - Public routes: `/signIn`, `/signUp`
  - App routes group: `/(app)/chatList`, `/(app)/chatRoom`
  - `/` shows loading until auth state resolves, then redirects
- Auth flow:
  - `AuthContext` + `useAuthContextValue` wraps app state and Firebase auth methods
  - `onAuthStateChanged` updates app auth state and user profile data
- Data layer:
  - `users` collection for profile metadata
  - `rooms/{roomId}/messages` subcollection for real-time chat messages
  - Room ID generated by sorted user IDs via `getRoomId(...)`

## Quick Start

Pre-requisites:

- Node.js 18+
- Android Studio + emulator and/or Xcode + simulator
- A Firebase project with Authentication + Firestore enabled

Install and run:

```bash
npm install
npm run start
```

Run targets:

```bash
npm run android
npm run ios
npm run web
```

## Environment Variables

Create a `.env` file in the project root with:

```bash
EXPO_PUBLIC_API_KEY=your_firebase_api_key
EXPO_PUBLIC_AUTH_DOMAIN=your_project.firebaseapp.com
EXPO_PUBLIC_PROJECT_ID=your_project_id
EXPO_PUBLIC_STORAGE_BUCKET=your_project.appspot.com
EXPO_PUBLIC_MESSAGING_SENDER_ID=your_sender_id
EXPO_PUBLIC_APP_ID=your_app_id
```

These are loaded in [`firebaseConfig.js`](./firebaseConfig.js) to initialize Firebase app/auth/firestore.

## Demo Gallery

- ğŸ–¼ï¸ [App mockup](./assets/images/app%20mockup.jpeg)
- ğŸ–¼ï¸ [Preview 1](./assets/images/preview1.png)
- ğŸ–¼ï¸ [Preview 2](./assets/images/preview2.png)

## Credits

- Based on Nomi's [Build a React Native App with Firebase Auth & Chat](https://www.youtube.com/watch?v=INxkJno2gIs&list=PLKWMD009Q4qRvrfjGotVfUbqGoLdvRDN4&index=2) tutorial.
- Built with [Expo](https://expo.dev/), [Expo Router](https://docs.expo.dev/router/installation/), [NativeWind](https://www.nativewind.dev/), [React Native Reanimated](https://docs.swmansion.com/react-native-reanimated/), and [TypeScript](https://www.typescriptlang.org/).

## Improvement Areas

- ğŸ§ª Add unit and E2E testing (Jest + Detox).
- ğŸ‘¤ Add a user profile screen.
- ğŸš€ Improve performance when loading chats and messages.
- ğŸ“­ Add explicit empty states for chat list.
- ğŸ“œ Improve long-list behavior and pagination handling.
